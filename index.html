<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>CatXu's Blog</title>
</head>
<body>
<!-- <h1>Hello World</h1> -->
<!-- <p>I'm hosted with GitHub Pages.</p> -->
<h1>HTTP 的长连接和短连接</h1>
<h3>为什么很多网站的内容储存用别的域名？有什么好处？</h3>
<p>作者：杜传赢
链接：https://www.zhihu.com/question/19997004/answer/14600670
来源：知乎
著作权归作者所有，转载请联系作者获得授权。

三个最主流的原因: 
1. CDN缓存更方便
2. 突破浏览器并发限制 (你随便挑一个 G家的 url: https://lh4.googleusercontent.com/-si4dh2myPWk/T81YkSi__AI/AAAAAAAAQ5o/LlwbBRpp58Q/w497-h373/IMG_20120603_163233.jpg, 把前面的 lh4换成 lh3,lh6啥的，都照样能够访问，像地图之类的需要大量并发下载图片的站点，这个非常重要。)
3. Cookieless, 节省带宽，尤其是上行带宽 一般比下行要慢。。。

还有另外两个非常规原因: 
4. 对于UGC的内容和主站隔离，防止不必要的安全问题( 上传js窃取主站cookie之类的) 。 
正是这个原因要求用户内容的域名必须不是自己主站的子域名，而是一个完全独立的第三方域名。

5. 数据做了划分，甚至切到了不同的物理集群，通过子域名来分流比较省事. ^_^ 这个可能被用的不多。

PS: 关于Cookie的问题，带宽是次要的，安全隔离才是主要的。
关于多域名，也不是越多越好，虽然服务器端可以做泛解释，浏览器做dns解释也是耗时间的，而且太多域名，如果要走 https的话，还有要多买证书和部署的问题。
</p>
<p></p>
<p></p>
<p></p>
</body>
</html>
